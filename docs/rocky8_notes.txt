# Update
sudo dnf update
sudo dnf autoremove

# As you
wget https://repo.anaconda.com/archive/Anaconda3-2023.03-1-Linux-x86_64.sh
sudo bash Anaconda3-2023.03-1-Linux-x86_64.sh
install location /opt/anaconda3
do not activate
sudo chgrp -R local-users /opt/anaconda3
sudo chmod -R g+w /opt/anaconda3
conda init

# As fitsdata
# copy the conda stuff from your .bashrc into fitsdata .bashrc
# Log out and back in
eval "$(/opt/anaconda3/bin/conda shell.bash hook)"
conda init
# log out and back in?
conda update -n base -c defaults conda
conda create -n fits python=3.10
conda activate fits
pip3 install astropy
pip3 install requests
pip3 install "sqlalchemy<2.0.0"
pip3 install python-dateutil
pip3 install asdf
pip3 install gWCS
pip3 install psycopg2-binary

# In bash profile, add:
export PYTHONPATH=/opt/FitsStorage:/opt/DRAGONS:/opt/GHOSTDR

# At end of bashrc, add:
conda activate fits

# As you
cd /opt
sudo mkdir DRAGONS GHOSTDR FitsStorage FitsStorageConfig
sudo chown fitsdata DRAGONS GHOSTDR FitsStorage FitsStorageConfig

# As fitsdata
cd /opt/DRAGONS
git clone https://github.com/GeminiDRSoftware/DRAGONS .
git fetch
git checkout -b release/3.1.x
cd /opt/FitsStorage
git clone git@github.com:/phirstgemini/FitsStorage2 .
cd /opt/GHOSTDR
git clone https://github.com/GeminiDRSoftware/GHOSTDR .
git fetch
git checkout tags/v0.9.2
cd /opt/FitsStorageConfigurations
git clone git@gitlab.gemini.edu:DRSoftware/FitsStorageConfigurations.git .


# As you
sudo ln -s /opt/FitsStorageConfigurations/fits_storage.conf /etc/fits_storage.conf



