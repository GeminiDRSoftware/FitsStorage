conditions:
  - is facility
  - not exists:
    - XTENSION
  - is facility
  - set-date
  - matching:
    - TELESCOP: Gemini-South
    - TELESCOP: Gemini-North

include files:
  - radec
  - pdu/bhros
  - pdu/flamingos2
  - pdu/gmos
  - pdu/gnirs
  - pdu/gpi
  - pdu/gsaoi
  - pdu/nici
  - pdu/nifs
  - pdu/niri

keywords:
# Next three are float
  - AZIMUTH:
    - float
  - ELEVATIO:
    - float
  - CRPA:
    - float
  - TRKFRAME
  - DECTRACK
  - TRKEPOCH
  - RATRACK
  - PMDEC
  - PMRA
  - DATE
  - DATE-OBS
  - GEMPRGID
  - OBSID
  - DATALAB
# FRAMNE has been moved to the instrument PDU definitions
#  - FRAME
  - OBJECT
  - OBSCLASS:
    - char:   [ dayCal,  partnerCal,  acqCal,  acq,  science,  progCal ]
    - since:    2007-6-28
  - OBSTYPE:
    - char:   [ DARK, ARC, FLAT, BIAS, OBJECT, PINHOLE, RONCHI, CAL, FRINGE, MASK ]
  - RAWGEMQA:
    - char:   [ UNKNOWN, USABLE, BAD, CHECK ]
  - RAWPIREQ:
    - char:   [ UNKNOWN, 'YES', 'NO', CHECK ]   # Using quotes to prevent YAML to turn this into booleans
  - RAWBG
  - RAWCC
  - RAWIQ
  - RAWWV
  - RELEASE:
    - date:     2000-1-1 .. *
  - SSA
  - UT
  - PA:
    - since:    2004-1-1
  - IAA:
    - since:    2007-6-28

tests:
# Old images (previous to ~2005) miss IAA and OBSCLASS, which complicates
# testing. We move those to this instead
#  - valid-iaa-and-obsclass
# They have to be "Any" or "NN-percentile"
  - valid-rawXX
# Checks GEMPRGID, OBSID, AND DATALAB
  - valid-observation-info
  - wcs-after-pdu
